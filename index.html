<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="DocGen Pro - Générateur de documents intelligent pour cybercafé. Créez des CV, lettres, factures et plus avec l'aide de l'IA.">
    <meta name="keywords" content="générateur documents, cybercafé, IA, CV, lettres, factures">
    <meta name="author" content="DocGen Pro">
    <meta name="theme-color" content="#2196F3">
    
    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="DocGen Pro">
    
    <!-- Icons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    
    <title>DocGen Pro - Générateur de Documents Intelligent</title>
    
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>📄 DocGen Pro</h1>
            <p>Générateur de documents intelligent pour cybercafé</p>
        </header>

        <nav class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('generator')">📝 Générateur</button>
            <button class="nav-tab" onclick="switchTab('templates')">🎨 Modèles</button>
            <button class="nav-tab" onclick="switchTab('history')">📋 Historique</button>
            <button class="nav-tab" onclick="switchTab('settings')">⚙️ Réglages</button>
        </nav>

        <main class="content">
            <!-- Générateur Tab -->
            <div id="generator-tab" class="tab-content">
                <div class="document-types">
                    <div class="doc-card" onclick="selectDocument('cv')">
                        <span class="doc-icon">👤</span>
                        <div class="doc-title">CV</div>
                    </div>
                    <div class="doc-card" onclick="selectDocument('lettre')">
                        <span class="doc-icon">✉️</span>
                        <div class="doc-title">Lettre</div>
                    </div>
                    <div class="doc-card" onclick="selectDocument('facture')">
                        <span class="doc-icon">🧾</span>
                        <div class="doc-title">Facture</div>
                    </div>
                    <div class="doc-card" onclick="selectDocument('devis')">
                        <span class="doc-icon">💰</span>
                        <div class="doc-title">Devis</div>
                    </div>
                    <div class="doc-card" onclick="selectDocument('attestation')">
                        <span class="doc-icon">📜</span>
                        <div class="doc-title">Attestation</div>
                    </div>
                    <div class="doc-card" onclick="selectDocument('rapport')">
                        <span class="doc-icon">📊</span>
                        <div class="doc-title">Rapport</div>
                    </div>
                </div>

                <!-- Formulaires dynamiques -->
                <div id="form-container"></div>
                
                <div id="preview-container" class="hidden">
                    <div class="preview-section">
                        <h3>📋 Aperçu du document</h3>
                        <div id="preview-content" class="preview-content"></div>
                        <div class="actions">
                            <button class="btn-secondary" onclick="editDocument()">✏️ Modifier</button>
                            <button class="btn-primary" onclick="downloadDocument()">⬇️ Télécharger</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Templates Tab -->
            <div id="templates-tab" class="tab-content hidden">
                <h2>🎨 Modèles disponibles</h2>
                <div class="template-gallery">
                    <div class="template-card">
                        <h4>CV Professionnel</h4>
                        <p>Modèle moderne avec sections détaillées</p>
                    </div>
                    <div class="template-card">
                        <h4>Lettre Commerciale</h4>
                        <p>Format standard pour communications d'affaires</p>
                    </div>
                    <div class="template-card">
                        <h4>Facture Pro</h4>
                        <p>Template complet avec calculs automatiques</p>
                    </div>
                    <div class="template-card">
                        <h4>Devis Détaillé</h4>
                        <p>Format professionnel avec breakdown des coûts</p>
                    </div>
                    <div class="template-card">
                        <h4>Attestation Officielle</h4>
                        <p>Modèle conforme aux standards administratifs</p>
                    </div>
                    <div class="template-card">
                        <h4>Rapport Exécutif</h4>
                        <p>Structure complète pour rapports professionnels</p>
                    </div>
                </div>
            </div>

            <!-- Historique Tab -->
            <div id="history-tab" class="tab-content hidden">
                <h2>📋 Historique des documents</h2>
                <div id="history-list">
                    <p style="text-align: center; color: #666; margin-top: 40px;">
                        Aucun document généré pour le moment
                    </p>
                </div>
            </div>

            <!-- Réglages Tab -->
            <div id="settings-tab" class="tab-content hidden">
                <div class="form-section">
                    <h3>⚙️ Paramètres de l'application</h3>
                    <div class="form-group">
                        <label class="form-label">Langue par défaut</label>
                        <select class="form-select" id="language-setting">
                            <option value="fr">Français</option>
                            <option value="en">English</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Format de date</label>
                        <select class="form-select" id="date-format-setting">
                            <option value="dd/mm/yyyy">DD/MM/YYYY</option>
                            <option value="mm/dd/yyyy">MM/DD/YYYY</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Qualité IA</label>
                        <select class="form-select" id="ai-quality-setting">
                            <option value="standard">Standard</option>
                            <option value="premium">Premium</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Sauvegarde automatique</label>
                        <select class="form-select" id="autosave-setting">
                            <option value="enabled">Activée</option>
                            <option value="disabled">Désactivée</option>
                        </select>
                    </div>
                    <button class="btn-primary" onclick="saveSettings()">💾 Sauvegarder les réglages</button>
                </div>
                
                <div class="form-section">
                    <h3>📊 Statistiques d'utilisation</h3>
                    <div id="usage-stats">
                        <p><strong>Documents générés:</strong> <span id="total-docs">0</span></p>
                        <p><strong>Type le plus utilisé:</strong> <span id="most-used-type">-</span></p>
                        <p><strong>Dernière utilisation:</strong> <span id="last-usage">-</span></p>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>🔄 Gestion des données</h3>
                    <div class="actions">
                        <button class="btn-secondary" onclick="exportData()">📤 Exporter données</button>
                        <button class="btn-secondary" onclick="clearHistory()" style="background: #dc3545;">🗑️ Vider historique</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('SW registered: ', registration);
                    })
                    .catch(registrationError => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
    
    <script src="/app.js"></script>
</body>
</html>
